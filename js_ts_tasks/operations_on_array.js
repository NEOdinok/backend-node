/**
 * ðŸ§  Ð—ÐÐ”ÐÐÐ˜Ð•:
 *
 * Ð”Ð°Ð½ Ð¼Ð°ÑÑÐ¸Ð² Ñ Ñ‡Ð¸ÑÐ»Ð°Ð¼Ð¸ Ð¸ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¼Ð°ÑÑÐ¸Ð²Ð°Ð¼Ð¸:
 *
 * const arr = [1, 2, 3, 4, [4, 5], [7, [8, 9]], 6, 5, 10];
 *
 * ðŸŽ¯ Ð¢Ð²Ð¾Ñ Ð·Ð°Ð´Ð°Ñ‡Ð°:
 * 1. ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð°ÑÑÐ¸Ð² Ð² Ð¾Ð´Ð½Ð¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ñ‹Ð¹.
 * 2. Ð’Ñ‹Ð²ÐµÑÑ‚Ð¸ ÐµÐ³Ð¾ Ð¾Ñ‚ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼ Ð¿Ð¾ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ð°Ð½Ð¸ÑŽ (Ñ Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð°Ð¼Ð¸).
 * 3. Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ñ‹ Ð¸ ÑÐ½Ð¾Ð²Ð° Ð¾Ñ‚ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ.
 *
 * â—ï¸Ð Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ JS.
 * ðŸ’¡ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°: Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ `flat(Infinity)` Ð´Ð»Ñ Ñ€Ð°ÑÐ¿Ð»ÑŽÑ‰Ð¸Ð²Ð°Ð½Ð¸Ñ.
 * ðŸ’¡Ð”Ð»Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð² Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐ¹ 2 ÑÐ¿Ð¾ÑÐ¾Ð±Ð°:
 *    - Ð¡ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ `Set` Ð¸ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð° `...`
 *    - Ð¡ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ `filter((item, index, self) => ...)`
 */

const arr = [1, 2, 3, 4, [4, 5], [7, [8, 9]], 6, 5, 10];

// 1. ÐŸÐ»Ð¾ÑÐºÐ¸Ð¹ Ð¼Ð°ÑÑÐ¸Ð²
const flattened = arr.flat(Infinity);
console.log(flattened);
// [1, 2, 3, 4, 4, 5, 7, 8, 9, 6, 5, 10]

// 2. Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð°Ð¼Ð¸
const sortedWithDuplicates = [...flattened].sort((a, b) => a - b);
console.log(sortedWithDuplicates);
// [1, 2, 3, 4, 4, 5, 5, 6, 7, 8, 9, 10]

// 3a. Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Set
const uniqueSortedSet = [...new Set(flattened)].sort((a, b) => a - b);
console.log(uniqueSortedSet);
// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

// 3b. Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ñ‹ Ñ‡ÐµÑ€ÐµÐ· filter
const uniqueSortedFilter = flattened
  .filter((item, index, self) => self.indexOf(item) === index)
  .sort((a, b) => a - b);
console.log(uniqueSortedFilter);
// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
