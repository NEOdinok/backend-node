# Rvision —Å–æ–±–µ—Å

## GraphQL

### –û—Ç–ª–∏—á–∏—è –æ—Ç REST

- **REST** - –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ */users*, */posts* –∫–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.
- GraphQL
- –ù–µ—Ç *overfetch / underfetch*
- –ú–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ
- –°–∏–ª—å–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–∏–∞—Å—ã ?

- **–ê–ª–∏–∞—Å—ã** - —Å–ø–æ—Å–æ–± —Ä–∞–∑–¥–µ–ª—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ–ª—è –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏

```js
query {
  user1: getUser(id: 1) { name }
  user2: getUser(id: 2) { name }
}
```
> *user1*, *user2* - —ç—Ç–æ –∞–ª–∏–∞—Å—ã
> *getUser* - —Ä–µ–∑–æ–ª–≤–µ—Ä
> *query*, *mutation*, *subscription* - —ç—Ç–æ –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è

### ‚öôÔ∏è –ú–µ—Ç–æ–¥—ã GraphQL

- *query* ‚Äî —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–∞–ª–æ–≥ GET)
- *mutation* ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–∞–ª–æ–≥ POST/PUT/DELETE)
- *subscription* ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–≤–µ–±—Å–æ–∫–µ—Ç—ã)

### –ú–æ–∂–Ω–æ –ª–∏ –¥–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏–π –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æc–µ?

- **–î–∞**, –º–æ–∂–Ω–æ. –≠—Ç–æ —á–∞—Å—Ç—å *GraphQL —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏* 


## –í–æ–ø—Ä–æ—Å—ã —Å —Å–æ–±–µ—Å–∞ –ø—Ä–æ GraphQL

–¢–æ —á—Ç–æ –≤—ã—à–µ +

- graphQl –æ—Ç–ª–∏—á–∏–µ Rest VS GraphQL
- –ú–µ—Ç–æ–¥—ã –≤ GraphQL - query, mutation, subscription
- –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏–π –≤ –æ–¥–Ω–æ–º graphQL –∑–∞–ø—Ä–æ—Å–µ ? –ú–æ–∂–µ–º –¥–∞, –∑–∞ —Å—á–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ graphQL. –ß—Ç–æ –∑–∞ –º–µ—Ö–∞–Ω–∏–∑–º —Ç–∞–∫–æ–π ?

## REST

- –ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –≤ REST ? 
- –ó–∞—á–µ–º —Å—Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ ?
- –ê –µ—Å–ª–∏ –ø—Ä–∏–¥–µ—Ç –º–∞–Ω–∞–≥–µ—Ä –∏ —Å–∫–∞–∂–µ—Ç —Å–¥–µ–ª–∞–µ–π –º–Ω–µ –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ GET

## gRPC

- –ß—Ç–æ —ç—Ç–æ ? 
- –ß—Ç–æ —Ç–∞–∫–æ–µ .proto —Ñ–∞–π–ª ?

## –†–∞–∑ gRPC —Ç–∞–∫–æ–π –∫—Ä—É—Ç–æ–π, –ø–æ—á–µ–º—É –º—ã –Ω–µ –º–æ–∂–µ–º –æ—Ç–¥–∞—Ç—å —Ä—É—á–∫—É gRPC –∫–ª–∏–µ–Ω—Ç—É –Ω—É—Ä—É–∂—É ?

- ‚ùå –ü—Ä–æ—Ç–æ–∫–æ–ª –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤ –∏ –≤–Ω–µ—à–Ω–µ–π —Å—Ä–µ–¥—ã. –ë—Ä–∞—É–∑–µ—Ä—ã –Ω–µ —É–º–µ—é—Ç –Ω–∞—Ç–∏–≤–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å –ø–æ —á–∏—Å—Ç–æ–º—É HTTP/2 —Å –±–∏–Ω–∞—Ä–Ω—ã–º gRPC (–Ω—É–∂–µ–Ω –ø—Ä–æ–∫—Å–∏ –≤—Ä–æ–¥–µ gRPC-Web).
- gRPC-Web ‚Äî —É—Ä–µ–∑–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è (–Ω–µ—Ç streaming, bidirectional communication –∏ —Ç.–¥.).
- –ü—É–±–ª–∏—á–Ω—ã–π API –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω—ã–º –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º. gRPC –∂—ë—Å—Ç–∫–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω: –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –Ω–µ –æ–±–Ω–æ–≤–∏–ª –≤–µ—Ä—Å–∏—é .proto. 
- –£ gRPC –Ω–µ—Ç –ø—Ä–∏–≤—ã—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ä—É—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, *rate limiting*, *throttling*, *OAuth*, *JWT*, *–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ*, *CDN*, *observability* (–º–µ—Ç—Ä–∏–∫–∏, —Ç—Ä–µ–π—Å–∏–Ω–≥, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ middleware)
- –¥–ª—è REST –º—ã –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∞–µ–º API Gateway, –≥–¥–µ –≤—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –µ—Å—Ç—å. gRPC - –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ—Ç–æ–∫, –¥–ª—è –Ω–µ–≥–æ –≤—Å–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ.
- –ù–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –ø–æ–∏–≥—Ä–∞—Ç—å—Å—è —Å api —á–µ—Ä–µ–∑ Postman

## –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–æ–∫–µ—Ä —Ñ–∞–π–ª ?

–≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è, –∫–∞–∫ —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑:
–∫–∞–∫—É—é –±–∞–∑—É –≤–∑—è—Ç—å (FROM), –∫–∞–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–æ–π –∫–æ–º–∞–Ω–¥–æ–π –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

## –ü–æ—á–µ–º—É –ø–µ—Ä–≤—ã–π –±–∏–ª–¥ –¥–æ–ª–≥–∏–π, –∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ ‚Äî –±—ã—Å—Ç—Ä—ã–µ?

Docker –∫—ç—à–∏—Ä—É–µ—Ç —Å–ª–æ–∏.
–ö–∞–∂–¥—ã–π —à–∞–≥ (RUN, COPY, ADD, etc.) —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ–π (layer).
–ï—Å–ª–∏ —Å–ª–æ–π –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è, Docker –±–µ—Ä—ë—Ç –µ–≥–æ –∏–∑ –∫–µ—à–∞.

## –ö–∞–∫ —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è —Å–ª–æ–∏ –≤ —Ñ–∞–π–ª–µ ?

–ö–∞–∂–¥–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ Dockerfile (RUN, COPY, ADD, CMD –∏ —Ç.–¥.) —Å–æ–∑–¥–∞—ë—Ç —Å–ª–æ–π.
–ò –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–Ω–æ—Å–æ–º —Å—Ç—Ä–æ–∫–∏.

## Docker, Docker Swarm, K8S

- –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª, –æ—Ç–ª–∏—á–∏—è.
- –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–∫–µ–π–ª–∏–Ω–≥ –≤ docker swarm ?

## –±–∞–∑–∞ –ø—Ä–æ Node.js
Node.js 
–ú–µ—Ö–∞–Ω–∏–∑–º –≤–æ–¥—ã –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º, concurrency, —Å—Ç–∞–¥–∏–∏ event loop 
–ó–∞ —Å—á–µ—Ç —á–µ–≥–æ –Ω–æ–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —á—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ ? - libUV

## –í–æ–ø—Ä–æ—Å —Å –ø–æ–¥—ä–µ–±–∫–æ–π

- –ß—Ç–æ –±—ã—Å—Ç—Ä–µ–µ async/await –∏–ª–∏ Promise ? - **–æ–¥–∏–Ω–∞–∫–æ–≤–æ**
- –ß—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –∫–æ–ª–±—ç–∫–∏ –∏–ª–∏ –ø—Ä–æ–º–∏—Å—ã ? - **–ö–æ–ª–±—ç–∫–∏ –Ω–µ–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ**, –Ω–æ –ø—Ä–æ–º–∏—Å—ã —É–¥–æ–±–Ω–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ.  
Promise –¥–æ–±–∞–≤–ª—è–µ—Ç –º–∏–∫—Ä–æ—Ç–∞—Å–∫–∏ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –æ—á–µ—Ä–µ–¥—å, —á—Ç–æ —á—É—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.

*–ö–∞–∫ —Ä–∞–∑–≤–∏–≤–∞–ª—Å—è JS*
| –≠–ø–æ—Ö–∞          | –ö–∞–∫ ‚Äú–∂–¥–∞–ª–∏‚Äù –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è                                   |
| -------------- | -------------------------------------------------------- |
| üïπÔ∏è Callbacks  | –ü–µ—Ä–µ–¥–∞–≤–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è |
| ‚öôÔ∏è Promises    | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `.then()` / `.catch()`                      |
| üöÄ async/await | –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `await` –≤–º–µ—Å—Ç–æ `.then()`            |


## –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ç–∏–ø—ã.
Pick, Partial, Omit.

## any –≤ TS
–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å any - –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –≤—ã—Ä—É–±–∞–µ—Ç TS. 
–ê –µ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è ? Unknown - —ç—Ç–æ –Ω–∏—á–µ–≥–æ, —Ç–æ –µ—Å—Ç—å ‚Äú–∫–∞–∫–æ–π-—Ç–æ —Ç–∏–ø‚Äù –∏ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–∞–º –Ω—É–∂–Ω–æ —Å—É–∑–∏—Ç—å —Ç–∏–ø –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏—à–ª–æ –∏–º–µ–Ω–Ω–æ —Ç–æ —á—Ç–æ –Ω—É–∂–Ω–æ.

## –ö–∞–∫–∏–µ —Ç–∏–ø—ã –ë–î —Ç—ã –∑–Ω–∞–µ—à—å ? –ö–∞–∫ –±—ã —Ä–∞–∑–¥–µ–ª–∏–ª –∏—Ö ?
- –†–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ - (PostgreSQL) - –ë–∏–∑–Ω–µ—Å –¥–∞–Ω–Ω—ã–µ –∏ —Ç–¥
- –ù–µ—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ - (MongoDB) –ë–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±—ã—Å—Ç—Ä—ã–µ key-falue
- –ö–æ–ª–æ–Ω–æ—á–Ω—ã–µ (ClickHouse, Apache Cassandra) - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã –¥–ª—è –∞–≥–≥—Ä–µ–≥–∞—Ü–∏–∏ –∏ —á—Ç–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª-–≤–∞ –¥–∞–Ω—ã–Ω—Ö –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.
(–ï—Å—Ç—å –µ—â–µ –≥—Ä–∞—Ñ–æ–≤—ã–µ)

## –ù–∞ –ø–æ–¥—É–º–∞—Ç—å –ø—Ä–æ –ø—Ä–æ–º–∏—Å—ã

–ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–∏—Å–æ–≤ –Ω–∞ async await ?
–ú–æ–∂–Ω–æ –ª–∏ –¥–µ–ª–∞—Ç—å *Promise.race*, *Promise.allSettled* –ø—Ä–∏ –ø–æ–º–æ—â–∏ async await ?

–û—Ç–≤–µ—Ç - –º–æ–∂–Ω–æ –≤—Å–µ –∫—Ä–æ–º–µ *Promise.race*. –í—Å–µ –ø–æ—Ç–æ–º—É —á—Ç–æ async / await –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –∂–¥–µ—Ç –æ–¥–∏–Ω —á–µ—Ç–∫–∏–π –ø—Ä–æ–º–∏—Å, –∞ –Ω–µ –ø–µ—Ä–≤—ã–π –∫—Ç–æ –±—ã—Å—Ç—Ä–µ–µ.
–ü–æ—ç—Ç–æ–º—É —Å–¥–µ–ª–∞—Ç—å *await –±—ã—Å—Ç—Ä–µ–π—à–µ–≥–æ* - –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è.

## –ù–∞ –ø–æ–¥—É–º–∞—Ç—å –ø—Ä–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ

*–í–æ–ø—Ä–æ—Å:*

*–û—Ç–≤–µ—Ç:*
–Ø –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª PostgreSQL.
–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è ‚Äî id, image_url, –∞ –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äî –≤ S3.
–î–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö ‚Äî —Ç–∏–ø JSONB, —á—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, camera, iso, tags, geo).
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ Postgres.
–≠—Ç–æ –≥–∏–±–∫–æ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º—ã.‚Äù

## TS - –¥—Ä–æ—á

```ts
type SomeType<T extends Record<string, any>, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>;
```
–û—Ç–≤–µ—Ç - SomeType<T, K> –¥–µ–ª–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ K –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –≤ —Ç–∏–ø–µ T,
–Ω–µ –º–µ–Ω—è—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è.

## –ó–∞–¥–∞—á–∞ 1

```ts
const a = Array(3).fill({});

a[0].num = 1;
a[1].num = 3;

console.log(a); // –ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç?
```

## –ó–∞–¥–∞—á–∞ 2

```ts
let a = {
  counter: 1
}

function updateObj(obj) {
  obj.counter++
  obj.foo = 'bar'
  obj.a = obj
  return obj
}

updateObj(a)

console.log(a)                  // –ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç—Å—è —Ç—É—Ç?
console.log(JSON.stringify(a))  // –ò —Ç—É—Ç?
```

